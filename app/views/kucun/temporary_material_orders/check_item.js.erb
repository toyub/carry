$('.list-add-materials').append("<%= j render 'material' %>");
$('.tr_number_<%= @item.id %>').on('change', 'input[name=quantity], input[name=cost_price]', function(){
  var quantity = +$(".tr_number_<%= @item.id %> input[name=quantity]").val(),
      cost_price = +$(".tr_number_<%= @item.id %> input[name=cost_price]").val(),
      amount = $(".tr_number_<%= @item.id %> input[name=amount]");

  amount.val(quantity * cost_price);
  amount.change();
})

$(".lnr-cross-circle").click(function(){
  $(".tr_number_<%= @item.id %> input[name=amount]").val(0)
                                                    .change();
  $(".list-materials input[data-item_id=<%= @item.id %>]").prop('checked', false);
  $(".tr_number_<%= @item.id %>").remove();
})
